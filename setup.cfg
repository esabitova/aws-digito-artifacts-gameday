# Configuration for pytest; enable coverage, emit
# XML, HTML, and terminal reports.
[tool:pytest]
xfail_strict = true
addopts =
    --verbose
    --ignore=build/private
    --cov-report term-missing
    --cov resource_manager/src
    --cov documents/util/scripts/src
    --cov-report html:documentation/coverage
    --cov-report xml:documentation/coverage/coverage.xml
    -m unit_test
    --cov-fail-under 70

# Live Logs: https://docs.pytest.org/en/stable/logging.html#live-logs
log_cli=True
log_cli_level=INFO

# Markers: https://docs.pytest.org/en/stable/example/markers.html#registering-markers
markers =
    integration
    unit_test
    rds
    failover
    asg
    stress
    cpu

# Additional coverage.py settings. The parallel flag and source values are
# necessary so that pytest-cov knows to alias the brazil build artifact absolute
# paths to the relative ones from your package source.
[coverage:run]
branch = False
parallel = False
